# VSCode Dotnet Deploy

ä¸€é”®éƒ¨ç½² .NET åº”ç”¨åˆ° Ubuntu/Linux æœåŠ¡å™¨çš„ VSCode æ’ä»¶ã€‚

## åŠŸèƒ½

- ğŸ” è‡ªåŠ¨æ‰«æè§£å†³æ–¹æ¡ˆä¸­çš„å¯æ‰§è¡Œé¡¹ç›®
- ğŸ“¦ å¯é…ç½®çš„å‘å¸ƒé€‰é¡¹ï¼ˆself-containedã€single-fileã€debug symbolsï¼‰
- ğŸš€ æ”¯æŒ SSH å¯†é’¥æˆ–å¯†ç è®¤è¯è¿æ¥æœåŠ¡å™¨
- ğŸ“¤ SFTP ä¸Šä¼ å‘å¸ƒäº§ç‰©
- â–¶ï¸ è¿œç¨‹æ‰§è¡Œ systemd å¯åŠ¨å‘½ä»¤

## å®‰è£…

```bash
cd tools/vscode-dotnet-deploy
npm install
npm run compile
```

å®‰è£…åˆ° VSCodeï¼š
```bash
# æ–¹å¼ 1: æ‰“åŒ…å®‰è£…
npm install -g vsce
vsce package
# ç„¶ååœ¨ VSCode ä¸­ï¼šExtensions â†’ Install from VSIX

# æ–¹å¼ 2: å¼€å‘æ¨¡å¼
# åœ¨ VSCode ä¸­æŒ‰ F5 å¯åŠ¨è°ƒè¯•
```

## é…ç½®

åœ¨ VSCode settings.json ä¸­æ·»åŠ ï¼š

```json
{
  "dotnetDeploy.server.host": "your-server-ip",
  "dotnetDeploy.server.port": 22,
  "dotnetDeploy.server.username": "root",
  "dotnetDeploy.server.privateKeyPath": "~/.ssh/id_rsa",
  "dotnetDeploy.deploy.remotePath": "/opt/apps"
}
```

## ä½¿ç”¨

48. æ‰“å¼€åŒ…å« `.sln` æ–‡ä»¶çš„å·¥ä½œåŒº
49. ç‚¹å‡»å·¦ä¾§è¾¹æ çš„ Dotnet Deploy å›¾æ ‡
50. åœ¨ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹©è¦éƒ¨ç½²çš„é¡¹ç›®
51. å¡«å†™æœåŠ¡å™¨é…ç½®ï¼ˆHost, Username, Key Path ç­‰ï¼‰
52. é…ç½®å‘å¸ƒé€‰é¡¹ï¼ˆRuntime, Self-contained ç­‰ï¼‰
53. ç‚¹å‡» "ğŸš€ Deploy Now" æŒ‰é’®
54. è§‚å¯Ÿä¸‹æ–¹çš„éƒ¨ç½²è¿›åº¦æ¡

## å‘å¸ƒé€‰é¡¹

| é€‰é¡¹ | è¯´æ˜ |
|------|------|
| Self-contained | åŒ…å« .NET è¿è¡Œæ—¶ï¼Œä¸éœ€è¦æœåŠ¡å™¨å®‰è£… .NET |
| Single file | æ‰“åŒ…æˆå•ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ |
| Debug symbols | åŒ…å« .pdb è°ƒè¯•ç¬¦å·æ–‡ä»¶ |

## å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. é€‰æ‹©é¡¹ç›®     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. dotnet pub  â”‚ æœ¬åœ°å‘å¸ƒ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. SFTP ä¸Šä¼    â”‚ ä¸Šä¼ åˆ°æœåŠ¡å™¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. sudo start  â”‚ å¯åŠ¨æœåŠ¡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è¦æ±‚

- æœåŠ¡å™¨éœ€è¦ SSH å¯†é’¥è®¤è¯
- é¡¹ç›®éœ€è¦é›†æˆ systemdï¼ˆæ”¯æŒ `./ç¨‹åºå start` å‘½ä»¤ï¼‰
- æœ¬åœ°éœ€è¦å®‰è£… .NET SDK

## License

MIT
